/* Generated by re2c 3.0 on Fri Feb 24 08:42:35 2023 */
#line 1 "src/opam/opam_lexis.re"
// opam lexer
// re2c $INPUT -o $OUTPUT -i

/* NB: constants for terminals generated from opam_parser.y.
   makeheaders arranges so that any needed here are included in
   opam_lexis.h. Isn't that sweet?
 */

#include <assert.h>
#include <errno.h>
#ifdef __linux__
#include <linux/limits.h>
#else
#include <limits.h>
#endif
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <unistd.h>

#include <sys/errno.h>

#include "log.h"
#include "opam_lexis.h"

#if EXPORT_INTERFACE
#define BUFSIZE 1024
#ifndef MAX_DEPS
#define MAX_DEPS 64
#endif
#endif

const char *deps[MAX_DEPS];
int opam_curr_tag = 0;

/* enable start conditions */
#line 40 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
enum YYCONDTYPE {
	yyc0,
	yycinit,
	yycbuild,
	yycbuildlist,
	yycterm,
	yycterm_filter,
	yyctermlist_filter,
	yycdepends,
	yycfpf,
	yycfvf,
	yyctriplequote,
};
#line 37 "src/opam/opam_lexis.re"


#if EXPORT_INTERFACE
#include <stdbool.h>
union opam_token_u {
    char c;
    int i;
    char *s;
    bool boolval;
};

struct opam_lexer_s
{
    const char *filename;
    const char *tok;
    const char *cursor;
    const char *limit;
    const char *marker;
    int mode;                   /* i.e. start condition */
};

#endif


void opam_lexer_init(const char*filename,
                     struct opam_lexer_s *lexer,
                     const char *input)
{
    lexer->filename = filename;
    lexer->cursor = input;
}

void opam_lexer_free(opam_lexer_s *lexer)
{
    /* log_debug("lexer_free: %s", lexer->fname); */
    /* utarray_free(lexer->indent_kws); */
}

/* static void mtag(const char *t) */
// static void mtag(int t)
// {
//     /* fprintf(stderr, "mtag ctor idx: %d, s: %.22s\n", opam_curr_tag, t); */
//     /* deps[opam_curr_tag++] = t; */
// }


/* static void print_tags() { */
/*     /\* fprintf(stderr, "printing %d tags:\n", opam_curr_tag/2); *\/ */
/*     for (int i=0; i < opam_curr_tag/2 ; i++) { */
/*         fprintf(stderr, "\tVALTOK: '%*s'\n", (int)(deps[i*2+1] - deps[i*2]), deps[i*2]); */
/*     } */
/*     /\* fprintf(stderr, "done\n"); *\/ */
/* } */

#define YYMTAGP(t) mtag(YYCURSOR)
#define YYMTAGN(t) mtag(NULL)

int get_next_opam_token(struct opam_lexer_s *lexer, union opam_token_u *otok)
{
#if defined(LEXDEBUG_FVF)
    log_debug("yycinit: %d, yycdepends: %d, yycfpf %d, yycfvf: %d",
              yycinit, yycdepends, yycfpf, yycfvf);
    // only set lexer->mode on initial call
    static bool start = true;
    if (start) {
        lexer->mode = yycfpf;
        log_debug("start mode: %d", lexer->mode);
        start = false;
    }
#elif defined (LEXDEBUG_FPF)
    log_debug("yycinit: %d, yycdepends: %d, yycfpf %d, yycfvf: %d",
              yycinit, yycdepends, yycfpf, yycfvf);
    static bool start = true;
    if (start) {
        lexer->mode = yycfpf;
        log_debug("start mode: %d", lexer->mode);
        start = false;
    }
#elif defined (LEXDEBUG_FILTERS)
    log_debug("yycinit: %d, yycdepends: %d, yycfpf %d, yycfvf: %d",
              yycinit, yycdepends, yycfpf, yycfvf);
    static bool start = true;
    if (start) {
        lexer->mode = yycfvf;
        log_debug("start mode: %d", lexer->mode);
        start = false;
    }
#else
    /* static bool start = true; */
    /* if (start) { */
    /*     lexer->mode = yycinit; */
    /*     log_debug("start mode: %d", lexer->mode); */
    /*     start = false; */
    /* } */
#endif

    /* stags */
    const char *s1, *s2;        /* dq strings */
    /* const char *pkg1, *pkg2; */
    /* const char *pred1, *pred2; */
    /* const char *txt1, *txt2; */

    /* mtags */
    /* int f1, f2; */                 /* flags */
    /* int dep1, dep2; */
    /* const char *vtok1, *vtok2; */

    /* int h1, h2; */
    
#line 164 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
const char *yyt1;const char *yyt2;
#line 145 "src/opam/opam_lexis.re"

    
#line 169 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
#line 146 "src/opam/opam_lexis.re"

loop:
    opam_curr_tag = 0;
    lexer->tok = lexer->cursor;
    
#line 176 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
#line 150 "src/opam/opam_lexis.re"

    
#line 180 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
{
	char yych;
	unsigned int yyaccept = 0;
	switch (lexer->mode) {
		case yyc0: goto yyc_0;
		case yycinit: goto yyc_init;
		case yycbuild: goto yyc_build;
		case yycbuildlist: goto yyc_buildlist;
		case yycterm: goto yyc_term;
		case yycterm_filter: goto yyc_term_filter;
		case yyctermlist_filter: goto yyc_termlist_filter;
		case yycdepends: goto yyc_depends;
		case yycfpf: goto yyc_fpf;
		case yycfvf: goto yyc_fvf;
		case yyctriplequote: goto yyc_triplequote;
	}
/* *********************************** */
yyc_0:
#line 200 "src/opam/opam_lexis.re"
	{
            /* printf("yycinit: %d, yycdepends: %d, yycfvf: %d\n", */
            /*        yycinit, yycdepends, yycfvf); */
            /* lexer->mode = yycdepends; */
        }
#line 205 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
/* *********************************** */
yyc_init:
	yych = *lexer->cursor;
	switch (yych) {
		case 0x00: goto yy2;
		case '\t':
		case '\n':
		case ' ': goto yy5;
		case '!':
			yyt1 = lexer->cursor;
			goto yy7;
		case '"': goto yy9;
		case '#': goto yy10;
		case '&':
		case '|': goto yy11;
		case '(': goto yy12;
		case ')': goto yy14;
		case ',': goto yy15;
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case '_':
			yyt1 = lexer->cursor;
			goto yy16;
		case ':': goto yy17;
		case '<':
		case '>':
			yyt1 = lexer->cursor;
			goto yy18;
		case '=': goto yy20;
		case '?': goto yy21;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'e':
		case 'f':
		case 'g':
		case 'j':
		case 'k':
		case 'q':
		case 'u':
		case 'w':
		case 'x':
		case 'y':
		case 'z':
			yyt1 = lexer->cursor;
			goto yy22;
		case '[': goto yy25;
		case ']': goto yy26;
		case 'a':
			yyt1 = lexer->cursor;
			goto yy27;
		case 'b':
			yyt1 = lexer->cursor;
			goto yy28;
		case 'c':
			yyt1 = lexer->cursor;
			goto yy29;
		case 'd':
			yyt1 = lexer->cursor;
			goto yy30;
		case 'h':
			yyt1 = lexer->cursor;
			goto yy31;
		case 'i':
			yyt1 = lexer->cursor;
			goto yy32;
		case 'l':
			yyt1 = lexer->cursor;
			goto yy33;
		case 'm':
			yyt1 = lexer->cursor;
			goto yy34;
		case 'n':
			yyt1 = lexer->cursor;
			goto yy35;
		case 'o':
			yyt1 = lexer->cursor;
			goto yy36;
		case 'p':
			yyt1 = lexer->cursor;
			goto yy37;
		case 'r':
			yyt1 = lexer->cursor;
			goto yy38;
		case 's':
			yyt1 = lexer->cursor;
			goto yy39;
		case 't':
			yyt1 = lexer->cursor;
			goto yy40;
		case 'v':
			yyt1 = lexer->cursor;
			goto yy41;
		case '{': goto yy42;
		case '}': goto yy43;
		default: goto yy3;
	}
yy2:
	++lexer->cursor;
#line 420 "src/opam/opam_lexis.re"
	{
            log_debug("lexing completed");
            return 0;
        }
#line 342 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy3:
	++lexer->cursor;
yy4:
#line 414 "src/opam/opam_lexis.re"
	{
            fprintf(stderr, "ERROR lexing: %s: %s\n",
                    lexer->filename, lexer->tok);
            exit(-1);
        }
#line 352 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy5:
	yych = *++lexer->cursor;
	switch (yych) {
		case '\t':
		case '\n':
		case ' ': goto yy5;
		default: goto yy6;
	}
yy6:
#line 387 "src/opam/opam_lexis.re"
	{ goto loop; }
#line 364 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy7:
	yych = *++lexer->cursor;
	switch (yych) {
		case '=': goto yy44;
		default: goto yy8;
	}
yy8:
#line 222 "src/opam/opam_lexis.re"
	{ return BANG; }
#line 374 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy9:
	yyaccept = 0;
	yych = *(lexer->marker = ++lexer->cursor);
	switch (yych) {
		case '"': goto yy46;
		case '\\':
			yyt1 = lexer->cursor;
			goto yy48;
		default:
			yyt1 = lexer->cursor;
			goto yy45;
	}
yy10:
	yych = *++lexer->cursor;
	switch (yych) {
		case '\n': goto yy49;
		default: goto yy10;
	}
yy11:
	++lexer->cursor;
	s1 = lexer->cursor - 1;
	s2 = lexer->cursor;
#line 224 "src/opam/opam_lexis.re"
	{
            otok->s = strndup(s1, (size_t)(s2-s1));
            return LOGOP;
        }
#line 402 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy12:
	yyaccept = 1;
	yych = *(lexer->marker = ++lexer->cursor);
	switch (yych) {
		case '*': goto yy50;
		default: goto yy13;
	}
yy13:
#line 207 "src/opam/opam_lexis.re"
	{ return LPAREN; }
#line 413 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy14:
	++lexer->cursor;
#line 208 "src/opam/opam_lexis.re"
	{ return RPAREN; }
#line 418 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy15:
	++lexer->cursor;
#line 215 "src/opam/opam_lexis.re"
	{ return COMMA; }
#line 423 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy16:
	yyaccept = 0;
	yych = *(lexer->marker = ++lexer->cursor);
	switch (yych) {
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case '_': goto yy51;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy22;
		default: goto yy4;
	}
yy17:
	++lexer->cursor;
#line 214 "src/opam/opam_lexis.re"
	{ return COLON; }
#line 498 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy18:
	yych = *++lexer->cursor;
	switch (yych) {
		case '=': goto yy44;
		default: goto yy19;
	}
yy19:
	s1 = yyt1;
	s2 = lexer->cursor;
#line 217 "src/opam/opam_lexis.re"
	{
            otok->s = strndup(s1, (size_t)(s2-s1));
            log_debug("mode %d: RELOP %s", lexer->mode, otok->s);
            return RELOP;
        }
#line 514 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy20:
	++lexer->cursor;
	s1 = lexer->cursor - 1;
	s2 = lexer->cursor;
#line 406 "src/opam/opam_lexis.re"
	{
            otok->s = strndup(s1, (size_t)(s2-s1));
            return RELOP;
        }
#line 524 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy21:
	++lexer->cursor;
#line 223 "src/opam/opam_lexis.re"
	{ return QMARK; }
#line 529 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy22:
	yych = *++lexer->cursor;
yy23:
	switch (yych) {
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case '_':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy22;
		default: goto yy24;
	}
yy24:
	s1 = yyt1;
	s2 = lexer->cursor;
#line 401 "src/opam/opam_lexis.re"
	{
            otok->s = (char*) strndup(s1, (size_t)(s2 - s1));
            return VARIDENT;
        }
#line 608 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy25:
	++lexer->cursor;
#line 209 "src/opam/opam_lexis.re"
	{ return LBRACKET; }
#line 613 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy26:
	++lexer->cursor;
#line 210 "src/opam/opam_lexis.re"
	{ return RBRACKET; }
#line 618 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy27:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'u': goto yy52;
		default: goto yy23;
	}
yy28:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'u': goto yy53;
		default: goto yy23;
	}
yy29:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'o': goto yy54;
		default: goto yy23;
	}
yy30:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'e': goto yy55;
		case 'o': goto yy56;
		default: goto yy23;
	}
yy31:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'o': goto yy57;
		default: goto yy23;
	}
yy32:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'n': goto yy58;
		default: goto yy23;
	}
yy33:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'i': goto yy59;
		default: goto yy23;
	}
yy34:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'a': goto yy60;
		default: goto yy23;
	}
yy35:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'a': goto yy61;
		default: goto yy23;
	}
yy36:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'p': goto yy62;
		default: goto yy23;
	}
yy37:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'a': goto yy63;
		default: goto yy23;
	}
yy38:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'e': goto yy64;
		case 'u': goto yy65;
		default: goto yy23;
	}
yy39:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'u': goto yy66;
		case 'y': goto yy67;
		default: goto yy23;
	}
yy40:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'a': goto yy68;
		default: goto yy23;
	}
yy41:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'e': goto yy69;
		default: goto yy23;
	}
yy42:
	++lexer->cursor;
#line 211 "src/opam/opam_lexis.re"
	{ return LBRACE; }
#line 716 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy43:
	++lexer->cursor;
#line 212 "src/opam/opam_lexis.re"
	{ return RBRACE; }
#line 721 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy44:
	++lexer->cursor;
	goto yy19;
yy45:
	yych = *++lexer->cursor;
	switch (yych) {
		case '"': goto yy70;
		case '\\': goto yy48;
		default: goto yy45;
	}
yy46:
	yych = *++lexer->cursor;
	switch (yych) {
		case '"': goto yy71;
		default: goto yy47;
	}
yy47:
	lexer->cursor = lexer->marker;
	switch (yyaccept) {
		case 0: goto yy4;
		case 1: goto yy13;
		default: goto yy96;
	}
yy48:
	yych = *++lexer->cursor;
	switch (yych) {
		case '\\': goto yy48;
		default: goto yy45;
	}
yy49:
	++lexer->cursor;
#line 389 "src/opam/opam_lexis.re"
	{
            /* return COMMENT; */
            goto loop;          /* skip comments */
        }
#line 758 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy50:
	yych = *++lexer->cursor;
	switch (yych) {
		case '\n': goto yy47;
		case '*': goto yy72;
		default: goto yy50;
	}
yy51:
	yych = *++lexer->cursor;
	switch (yych) {
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case '_': goto yy51;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy22;
		default: goto yy47;
	}
yy52:
	yych = *++lexer->cursor;
	switch (yych) {
		case 't': goto yy73;
		default: goto yy23;
	}
yy53:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'g': goto yy74;
		case 'i': goto yy75;
		default: goto yy23;
	}
yy54:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'n': goto yy76;
		default: goto yy23;
	}
yy55:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'p': goto yy77;
		case 's': goto yy78;
		case 'v': goto yy79;
		default: goto yy23;
	}
yy56:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'c': goto yy80;
		default: goto yy23;
	}
yy57:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'm': goto yy82;
		default: goto yy23;
	}
yy58:
	yych = *++lexer->cursor;
	switch (yych) {
		case 's': goto yy83;
		default: goto yy23;
	}
yy59:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'c': goto yy84;
		default: goto yy23;
	}
yy60:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'i': goto yy85;
		default: goto yy23;
	}
yy61:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'm': goto yy86;
		default: goto yy23;
	}
yy62:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'a': goto yy87;
		default: goto yy23;
	}
yy63:
	yych = *++lexer->cursor;
	switch (yych) {
		case 't': goto yy88;
		default: goto yy23;
	}
yy64:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'm': goto yy89;
		default: goto yy23;
	}
yy65:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'n': goto yy90;
		default: goto yy23;
	}
yy66:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'b': goto yy91;
		default: goto yy23;
	}
yy67:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'n': goto yy92;
		default: goto yy23;
	}
yy68:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'g': goto yy93;
		default: goto yy23;
	}
yy69:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'r': goto yy94;
		default: goto yy23;
	}
yy70:
	++lexer->cursor;
	s1 = yyt1;
	s2 = lexer->cursor - 1;
#line 382 "src/opam/opam_lexis.re"
	{
                otok->s = strndup(s1, (size_t)(s2-s1));
                return STRING;
            }
#line 955 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy71:
	++lexer->cursor;
	lexer->mode = yyctriplequote;
#line 370 "src/opam/opam_lexis.re"
	{ return TQ; }
#line 961 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy72:
	yych = *++lexer->cursor;
	switch (yych) {
		case '\n': goto yy47;
		case ')': goto yy95;
		case '*': goto yy72;
		default: goto yy50;
	}
yy73:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'h': goto yy97;
		default: goto yy23;
	}
yy74:
	yych = *++lexer->cursor;
	switch (yych) {
		case '-': goto yy98;
		default: goto yy23;
	}
yy75:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'l': goto yy99;
		default: goto yy23;
	}
yy76:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'f': goto yy100;
		default: goto yy23;
	}
yy77:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'e': goto yy101;
		case 'o': goto yy102;
		default: goto yy23;
	}
yy78:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'c': goto yy103;
		default: goto yy23;
	}
yy79:
	yych = *++lexer->cursor;
	switch (yych) {
		case '-': goto yy104;
		default: goto yy23;
	}
yy80:
	yych = *++lexer->cursor;
	switch (yych) {
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case '_':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy22;
		default: goto yy81;
	}
yy81:
	s1 = yyt1;
	s2 = lexer->cursor;
#line 255 "src/opam/opam_lexis.re"
	{
            otok->s = strndup(s1, (size_t)(s2-s1));
            return KEYWORD;
        }
#line 1090 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy82:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'e': goto yy105;
		default: goto yy23;
	}
yy83:
	yych = *++lexer->cursor;
	switch (yych) {
		case 't': goto yy106;
		default: goto yy23;
	}
yy84:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'e': goto yy107;
		default: goto yy23;
	}
yy85:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'n': goto yy108;
		default: goto yy23;
	}
yy86:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'e': goto yy80;
		default: goto yy23;
	}
yy87:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'm': goto yy109;
		default: goto yy23;
	}
yy88:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'c': goto yy110;
		default: goto yy23;
	}
yy89:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'o': goto yy111;
		default: goto yy23;
	}
yy90:
	yych = *++lexer->cursor;
	switch (yych) {
		case '-': goto yy112;
		default: goto yy23;
	}
yy91:
	yych = *++lexer->cursor;
	switch (yych) {
		case 's': goto yy113;
		default: goto yy23;
	}
yy92:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'o': goto yy114;
		default: goto yy23;
	}
yy93:
	yych = *++lexer->cursor;
	switch (yych) {
		case 's': goto yy80;
		default: goto yy23;
	}
yy94:
	yych = *++lexer->cursor;
	switch (yych) {
		case 's': goto yy115;
		default: goto yy23;
	}
yy95:
	yyaccept = 2;
	yych = *(lexer->marker = ++lexer->cursor);
	switch (yych) {
		case '\n': goto yy96;
		case '*': goto yy72;
		default: goto yy50;
	}
yy96:
#line 394 "src/opam/opam_lexis.re"
	{
            // comment
            goto loop;
        }
#line 1183 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy97:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'o': goto yy116;
		default: goto yy23;
	}
yy98:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'r': goto yy117;
		default: goto yy23;
	}
yy99:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'd': goto yy118;
		default: goto yy23;
	}
yy100:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'l': goto yy120;
		default: goto yy23;
	}
yy101:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'n': goto yy121;
		case 'x': goto yy113;
		default: goto yy23;
	}
yy102:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'p': goto yy113;
		default: goto yy23;
	}
yy103:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'r': goto yy122;
		default: goto yy23;
	}
yy104:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'r': goto yy123;
		default: goto yy23;
	}
yy105:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'p': goto yy124;
		default: goto yy23;
	}
yy106:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'a': goto yy125;
		default: goto yy23;
	}
yy107:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'n': goto yy126;
		default: goto yy23;
	}
yy108:
	yych = *++lexer->cursor;
	switch (yych) {
		case 't': goto yy127;
		default: goto yy23;
	}
yy109:
	yych = *++lexer->cursor;
	switch (yych) {
		case '-': goto yy128;
		default: goto yy23;
	}
yy110:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'h': goto yy129;
		default: goto yy23;
	}
yy111:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'v': goto yy86;
		default: goto yy23;
	}
yy112:
	yych = *++lexer->cursor;
	switch (yych) {
		case 't': goto yy130;
		default: goto yy23;
	}
yy113:
	yych = *++lexer->cursor;
	switch (yych) {
		case 't': goto yy93;
		default: goto yy23;
	}
yy114:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'p': goto yy131;
		default: goto yy23;
	}
yy115:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'i': goto yy132;
		default: goto yy23;
	}
yy116:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'r': goto yy93;
		default: goto yy23;
	}
yy117:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'e': goto yy133;
		default: goto yy23;
	}
yy118:
	yych = *++lexer->cursor;
	switch (yych) {
		case '-': goto yy134;
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case '_':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy22;
		default: goto yy119;
	}
yy119:
	lexer->mode = yycbuild;
#line 260 "src/opam/opam_lexis.re"
	{
            log_debug("build, mode: %d", lexer->mode);
            return BUILD;
        }
#line 1387 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy120:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'i': goto yy135;
		default: goto yy23;
	}
yy121:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'd': goto yy136;
		default: goto yy23;
	}
yy122:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'i': goto yy137;
		default: goto yy23;
	}
yy123:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'e': goto yy138;
		default: goto yy23;
	}
yy124:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'a': goto yy139;
		default: goto yy23;
	}
yy125:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'l': goto yy140;
		default: goto yy23;
	}
yy126:
	yych = *++lexer->cursor;
	switch (yych) {
		case 's': goto yy86;
		default: goto yy23;
	}
yy127:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'a': goto yy141;
		default: goto yy23;
	}
yy128:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'v': goto yy41;
		default: goto yy23;
	}
yy129:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'e': goto yy93;
		default: goto yy23;
	}
yy130:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'e': goto yy142;
		default: goto yy23;
	}
yy131:
	yych = *++lexer->cursor;
	switch (yych) {
		case 's': goto yy143;
		default: goto yy23;
	}
yy132:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'o': goto yy144;
		default: goto yy23;
	}
yy133:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'p': goto yy145;
		default: goto yy23;
	}
yy134:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'd': goto yy146;
		default: goto yy23;
	}
yy135:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'c': goto yy147;
		default: goto yy23;
	}
yy136:
	yych = *++lexer->cursor;
	switch (yych) {
		case 's': goto yy148;
		default: goto yy23;
	}
yy137:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'p': goto yy150;
		default: goto yy23;
	}
yy138:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'p': goto yy151;
		default: goto yy23;
	}
yy139:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'g': goto yy86;
		default: goto yy23;
	}
yy140:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'l': goto yy152;
		default: goto yy23;
	}
yy141:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'i': goto yy154;
		default: goto yy23;
	}
yy142:
	yych = *++lexer->cursor;
	switch (yych) {
		case 's': goto yy155;
		default: goto yy23;
	}
yy143:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'i': goto yy93;
		default: goto yy23;
	}
yy144:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'n': goto yy80;
		default: goto yy23;
	}
yy145:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'o': goto yy156;
		default: goto yy23;
	}
yy146:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'o': goto yy56;
		default: goto yy23;
	}
yy147:
	yych = *++lexer->cursor;
	switch (yych) {
		case 't': goto yy157;
		default: goto yy23;
	}
yy148:
	yych = *++lexer->cursor;
	switch (yych) {
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case '_':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy22;
		default: goto yy149;
	}
yy149:
	lexer->mode = yycdepends;
#line 316 "src/opam/opam_lexis.re"
	{
            return DEPENDS;
        }
#line 1631 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy150:
	yych = *++lexer->cursor;
	switch (yych) {
		case 't': goto yy115;
		default: goto yy23;
	}
yy151:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'o': goto yy80;
		default: goto yy23;
	}
yy152:
	yych = *++lexer->cursor;
	switch (yych) {
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case '_':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy22;
		default: goto yy153;
	}
yy153:
	lexer->mode = yycbuild;
#line 264 "src/opam/opam_lexis.re"
	{
            log_debug("install, mode: %d", lexer->mode);
            return INSTALL;
        }
#line 1720 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy154:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'n': goto yy158;
		default: goto yy23;
	}
yy155:
	yych = *++lexer->cursor;
	switch (yych) {
		case 't': goto yy159;
		default: goto yy23;
	}
yy156:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'r': goto yy113;
		default: goto yy23;
	}
yy157:
	yych = *++lexer->cursor;
	switch (yych) {
		case 's': goto yy161;
		default: goto yy23;
	}
yy158:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'e': goto yy163;
		default: goto yy23;
	}
yy159:
	yych = *++lexer->cursor;
	switch (yych) {
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case '_':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy22;
		default: goto yy160;
	}
yy160:
	lexer->mode = yycbuild;
#line 268 "src/opam/opam_lexis.re"
	{
            log_debug("run-test, mode: %d", lexer->mode);
            return RUN_TEST;
        }
#line 1827 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy161:
	yych = *++lexer->cursor;
	switch (yych) {
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case '_':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy22;
		default: goto yy162;
	}
yy162:
	lexer->mode = yycdepends;
#line 313 "src/opam/opam_lexis.re"
	{
            return CONFLICTS;
        }
#line 1903 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy163:
	yych = *++lexer->cursor;
	switch (yych) {
		case 'r': goto yy80;
		default: goto yy23;
	}
/* *********************************** */
yyc_build:
	yych = *lexer->cursor;
	switch (yych) {
		case 0x00: goto yy165;
		case '\t':
		case '\n':
		case ' ': goto yy167;
		case '!':
			yyt1 = lexer->cursor;
			goto yy169;
		case '#': goto yy171;
		case '&':
		case '|': goto yy172;
		case ':': goto yy173;
		case '<':
		case '>':
			yyt1 = lexer->cursor;
			goto yy174;
		case '=':
			yyt1 = lexer->cursor;
			goto yy176;
		case '?': goto yy177;
		case '[': goto yy178;
		case ']': goto yy179;
		default: goto yy166;
	}
yy165:
	++lexer->cursor;
#line 420 "src/opam/opam_lexis.re"
	{
            log_debug("lexing completed");
            return 0;
        }
#line 1944 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy166:
	++lexer->cursor;
#line 414 "src/opam/opam_lexis.re"
	{
            fprintf(stderr, "ERROR lexing: %s: %s\n",
                    lexer->filename, lexer->tok);
            exit(-1);
        }
#line 1953 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy167:
	yych = *++lexer->cursor;
	switch (yych) {
		case '\t':
		case '\n':
		case ' ': goto yy167;
		default: goto yy168;
	}
yy168:
#line 387 "src/opam/opam_lexis.re"
	{ goto loop; }
#line 1965 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy169:
	yych = *++lexer->cursor;
	switch (yych) {
		case '=': goto yy176;
		default: goto yy170;
	}
yy170:
#line 222 "src/opam/opam_lexis.re"
	{ return BANG; }
#line 1975 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy171:
	yych = *++lexer->cursor;
	switch (yych) {
		case '\n': goto yy180;
		default: goto yy171;
	}
yy172:
	++lexer->cursor;
	s1 = lexer->cursor - 1;
	s2 = lexer->cursor;
#line 224 "src/opam/opam_lexis.re"
	{
            otok->s = strndup(s1, (size_t)(s2-s1));
            return LOGOP;
        }
#line 1991 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy173:
	++lexer->cursor;
#line 273 "src/opam/opam_lexis.re"
	{ return COLON; }
#line 1996 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy174:
	yych = *++lexer->cursor;
	switch (yych) {
		case '=': goto yy176;
		default: goto yy175;
	}
yy175:
	s1 = yyt1;
	s2 = lexer->cursor;
#line 217 "src/opam/opam_lexis.re"
	{
            otok->s = strndup(s1, (size_t)(s2-s1));
            log_debug("mode %d: RELOP %s", lexer->mode, otok->s);
            return RELOP;
        }
#line 2012 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy176:
	++lexer->cursor;
	goto yy175;
yy177:
	++lexer->cursor;
#line 223 "src/opam/opam_lexis.re"
	{ return QMARK; }
#line 2020 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy178:
	++lexer->cursor;
	lexer->mode = yycbuildlist;
#line 274 "src/opam/opam_lexis.re"
	{
            log_debug("<build> lbracket, mode %d", lexer->mode);
            return LBRACKET; }
#line 2028 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy179:
	++lexer->cursor;
	lexer->mode = yycinit;
#line 277 "src/opam/opam_lexis.re"
	{ return RBRACKET; }
#line 2034 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy180:
	++lexer->cursor;
#line 389 "src/opam/opam_lexis.re"
	{
            /* return COMMENT; */
            goto loop;          /* skip comments */
        }
#line 2042 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
/* *********************************** */
yyc_buildlist:
	yych = *lexer->cursor;
	switch (yych) {
		case 0x00: goto yy182;
		case '\t':
		case '\n':
		case ' ': goto yy184;
		case '!':
			yyt1 = lexer->cursor;
			goto yy186;
		case '#': goto yy188;
		case '&':
		case '|': goto yy189;
		case '<':
		case '>':
			yyt1 = lexer->cursor;
			goto yy190;
		case '=':
			yyt1 = lexer->cursor;
			goto yy192;
		case '?': goto yy193;
		case '[': goto yy194;
		case ']': goto yy195;
		case '{': goto yy196;
		default: goto yy183;
	}
yy182:
	++lexer->cursor;
#line 420 "src/opam/opam_lexis.re"
	{
            log_debug("lexing completed");
            return 0;
        }
#line 2077 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy183:
	++lexer->cursor;
#line 414 "src/opam/opam_lexis.re"
	{
            fprintf(stderr, "ERROR lexing: %s: %s\n",
                    lexer->filename, lexer->tok);
            exit(-1);
        }
#line 2086 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy184:
	yych = *++lexer->cursor;
	switch (yych) {
		case '\t':
		case '\n':
		case ' ': goto yy184;
		default: goto yy185;
	}
yy185:
#line 387 "src/opam/opam_lexis.re"
	{ goto loop; }
#line 2098 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy186:
	yych = *++lexer->cursor;
	switch (yych) {
		case '=': goto yy192;
		default: goto yy187;
	}
yy187:
#line 222 "src/opam/opam_lexis.re"
	{ return BANG; }
#line 2108 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy188:
	yych = *++lexer->cursor;
	switch (yych) {
		case '\n': goto yy197;
		default: goto yy188;
	}
yy189:
	++lexer->cursor;
	s1 = lexer->cursor - 1;
	s2 = lexer->cursor;
#line 224 "src/opam/opam_lexis.re"
	{
            otok->s = strndup(s1, (size_t)(s2-s1));
            return LOGOP;
        }
#line 2124 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy190:
	yych = *++lexer->cursor;
	switch (yych) {
		case '=': goto yy192;
		default: goto yy191;
	}
yy191:
	s1 = yyt1;
	s2 = lexer->cursor;
#line 217 "src/opam/opam_lexis.re"
	{
            otok->s = strndup(s1, (size_t)(s2-s1));
            log_debug("mode %d: RELOP %s", lexer->mode, otok->s);
            return RELOP;
        }
#line 2140 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy192:
	++lexer->cursor;
	goto yy191;
yy193:
	++lexer->cursor;
#line 223 "src/opam/opam_lexis.re"
	{ return QMARK; }
#line 2148 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy194:
	++lexer->cursor;
	lexer->mode = yycterm;
#line 278 "src/opam/opam_lexis.re"
	{
            log_debug("<buildlist> lbracket, mode %d", lexer->mode);
            return LBRACKET; }
#line 2156 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy195:
	++lexer->cursor;
	lexer->mode = yycinit;
#line 281 "src/opam/opam_lexis.re"
	{
            // always marks end of build fld so back to <init>
            return RBRACKET;
        }
#line 2165 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy196:
	++lexer->cursor;
	lexer->mode = yyctermlist_filter;
#line 285 "src/opam/opam_lexis.re"
	{
            log_debug("<buildlist> lbrace mode %d", lexer->mode);
            return LBRACE;
        }
#line 2174 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy197:
	++lexer->cursor;
#line 389 "src/opam/opam_lexis.re"
	{
            /* return COMMENT; */
            goto loop;          /* skip comments */
        }
#line 2182 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
/* *********************************** */
yyc_term:
	yych = *lexer->cursor;
	switch (yych) {
		case 0x00: goto yy199;
		case '\t':
		case '\n':
		case ' ': goto yy202;
		case '!':
			yyt1 = lexer->cursor;
			goto yy204;
		case '"': goto yy206;
		case '#': goto yy207;
		case '&':
		case '|': goto yy208;
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
			yyt1 = lexer->cursor;
			goto yy209;
		case '<':
		case '>':
			yyt1 = lexer->cursor;
			goto yy210;
		case '=':
			yyt1 = lexer->cursor;
			goto yy212;
		case '?': goto yy213;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z':
			yyt1 = lexer->cursor;
			goto yy214;
		case '[': goto yy215;
		case ']': goto yy216;
		case '_':
			yyt1 = lexer->cursor;
			goto yy217;
		case '{': goto yy218;
		default: goto yy200;
	}
yy199:
	++lexer->cursor;
#line 420 "src/opam/opam_lexis.re"
	{
            log_debug("lexing completed");
            return 0;
        }
#line 2288 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy200:
	++lexer->cursor;
yy201:
#line 414 "src/opam/opam_lexis.re"
	{
            fprintf(stderr, "ERROR lexing: %s: %s\n",
                    lexer->filename, lexer->tok);
            exit(-1);
        }
#line 2298 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy202:
	yych = *++lexer->cursor;
	switch (yych) {
		case '\t':
		case '\n':
		case ' ': goto yy202;
		default: goto yy203;
	}
yy203:
#line 387 "src/opam/opam_lexis.re"
	{ goto loop; }
#line 2310 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy204:
	yych = *++lexer->cursor;
	switch (yych) {
		case '=': goto yy212;
		default: goto yy205;
	}
yy205:
#line 222 "src/opam/opam_lexis.re"
	{ return BANG; }
#line 2320 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy206:
	yych = *++lexer->cursor;
	yyt1 = lexer->cursor;
	goto yy220;
yy207:
	yych = *++lexer->cursor;
	switch (yych) {
		case '\n': goto yy223;
		default: goto yy207;
	}
yy208:
	++lexer->cursor;
	s1 = lexer->cursor - 1;
	s2 = lexer->cursor;
#line 224 "src/opam/opam_lexis.re"
	{
            otok->s = strndup(s1, (size_t)(s2-s1));
            return LOGOP;
        }
#line 2340 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy209:
	yyaccept = 0;
	yych = *(lexer->marker = ++lexer->cursor);
	switch (yych) {
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case '_': goto yy224;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy226;
		default: goto yy201;
	}
yy210:
	yych = *++lexer->cursor;
	switch (yych) {
		case '=': goto yy212;
		default: goto yy211;
	}
yy211:
	s1 = yyt1;
	s2 = lexer->cursor;
#line 217 "src/opam/opam_lexis.re"
	{
            otok->s = strndup(s1, (size_t)(s2-s1));
            log_debug("mode %d: RELOP %s", lexer->mode, otok->s);
            return RELOP;
        }
#line 2426 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy212:
	++lexer->cursor;
	goto yy211;
yy213:
	++lexer->cursor;
#line 223 "src/opam/opam_lexis.re"
	{ return QMARK; }
#line 2434 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy214:
	yyaccept = 0;
	yych = *(lexer->marker = ++lexer->cursor);
	switch (yych) {
		case '+': goto yy227;
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case '_': goto yy226;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy228;
		default: goto yy201;
	}
yy215:
	++lexer->cursor;
#line 310 "src/opam/opam_lexis.re"
	{ return LBRACKET; }
#line 2510 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy216:
	++lexer->cursor;
	lexer->mode = yycbuildlist;
#line 311 "src/opam/opam_lexis.re"
	{ return RBRACKET; }
#line 2516 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy217:
	yyaccept = 0;
	yych = *(lexer->marker = ++lexer->cursor);
	switch (yych) {
		case '+': goto yy227;
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case '_': goto yy230;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy228;
		default: goto yy201;
	}
yy218:
	++lexer->cursor;
	lexer->mode = yycterm_filter;
#line 299 "src/opam/opam_lexis.re"
	{
                log_debug("<term> lbrace mode %d", lexer->mode);
                return LBRACE; }
#line 2595 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy219:
	yych = *++lexer->cursor;
yy220:
	switch (yych) {
		case '"': goto yy221;
		case '\\': goto yy222;
		default: goto yy219;
	}
yy221:
	++lexer->cursor;
	s1 = yyt1;
	s2 = lexer->cursor - 1;
#line 291 "src/opam/opam_lexis.re"
	{
                otok->s = strndup(s1, (size_t)(s2-s1));
                return TERM_STRING;
        }
#line 2613 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy222:
	yych = *++lexer->cursor;
	switch (yych) {
		case '\\': goto yy222;
		default: goto yy219;
	}
yy223:
	++lexer->cursor;
#line 389 "src/opam/opam_lexis.re"
	{
            /* return COMMENT; */
            goto loop;          /* skip comments */
        }
#line 2627 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy224:
	yych = *++lexer->cursor;
	switch (yych) {
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case '_': goto yy224;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy226;
		default: goto yy225;
	}
yy225:
	lexer->cursor = lexer->marker;
	if (yyaccept == 0) {
		goto yy201;
	} else {
		goto yy229;
	}
yy226:
	yych = *++lexer->cursor;
	switch (yych) {
		case '+': goto yy227;
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case '_': goto yy226;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy228;
		default: goto yy225;
	}
yy227:
	yych = *++lexer->cursor;
	switch (yych) {
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9': goto yy224;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy226;
		case '_': goto yy231;
		default: goto yy225;
	}
yy228:
	yyaccept = 1;
	yych = *(lexer->marker = ++lexer->cursor);
	switch (yych) {
		case '+': goto yy227;
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case '_':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy228;
		default: goto yy229;
	}
yy229:
	s1 = yyt1;
	s2 = lexer->cursor;
#line 295 "src/opam/opam_lexis.re"
	{
                otok->s = strndup(s1, (size_t)(s2-s1));
                return TERM_VARIDENT;
        }
#line 2922 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy230:
	yych = *++lexer->cursor;
	switch (yych) {
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case '_': goto yy230;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy228;
		default: goto yy225;
	}
yy231:
	yych = *++lexer->cursor;
	switch (yych) {
		case '+': goto yy227;
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case '_': goto yy230;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy228;
		default: goto yy225;
	}
/* *********************************** */
yyc_term_filter:
	yych = *lexer->cursor;
	switch (yych) {
		case 0x00: goto yy233;
		case '\t':
		case '\n':
		case ' ': goto yy236;
		case '!':
			yyt1 = lexer->cursor;
			goto yy238;
		case '"':
			yyt1 = lexer->cursor;
			goto yy240;
		case '#': goto yy241;
		case '&':
		case '|': goto yy242;
		case '-':
			yyt1 = lexer->cursor;
			goto yy243;
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
			yyt1 = lexer->cursor;
			goto yy244;
		case '<':
		case '>':
			yyt1 = lexer->cursor;
			goto yy246;
		case '=':
			yyt1 = lexer->cursor;
			goto yy248;
		case '?': goto yy249;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z':
			yyt1 = lexer->cursor;
			goto yy250;
		case '_':
			yyt1 = lexer->cursor;
			goto yy251;
		case '}': goto yy252;
		default: goto yy234;
	}
yy233:
	++lexer->cursor;
#line 420 "src/opam/opam_lexis.re"
	{
            log_debug("lexing completed");
            return 0;
        }
#line 3169 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy234:
	++lexer->cursor;
yy235:
#line 414 "src/opam/opam_lexis.re"
	{
            fprintf(stderr, "ERROR lexing: %s: %s\n",
                    lexer->filename, lexer->tok);
            exit(-1);
        }
#line 3179 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy236:
	yych = *++lexer->cursor;
	switch (yych) {
		case '\t':
		case '\n':
		case ' ': goto yy236;
		default: goto yy237;
	}
yy237:
#line 387 "src/opam/opam_lexis.re"
	{ goto loop; }
#line 3191 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy238:
	yych = *++lexer->cursor;
	switch (yych) {
		case '=': goto yy248;
		default: goto yy239;
	}
yy239:
#line 222 "src/opam/opam_lexis.re"
	{ return BANG; }
#line 3201 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy240:
	yych = *++lexer->cursor;
	switch (yych) {
		case '"': goto yy254;
		default: goto yy253;
	}
yy241:
	yych = *++lexer->cursor;
	switch (yych) {
		case '\n': goto yy256;
		default: goto yy241;
	}
yy242:
	++lexer->cursor;
	s1 = lexer->cursor - 1;
	s2 = lexer->cursor;
#line 224 "src/opam/opam_lexis.re"
	{
            otok->s = strndup(s1, (size_t)(s2-s1));
            return LOGOP;
        }
#line 3223 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy243:
	yyaccept = 0;
	yych = *(lexer->marker = ++lexer->cursor);
	switch (yych) {
		case '-':
		case '_': goto yy257;
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9': goto yy244;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy259;
		default: goto yy235;
	}
yy244:
	yyaccept = 1;
	yych = *(lexer->marker = ++lexer->cursor);
	switch (yych) {
		case '-':
		case '_': goto yy257;
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9': goto yy244;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy259;
		default: goto yy245;
	}
yy245:
	s1 = yyt1;
	s2 = lexer->cursor;
#line 358 "src/opam/opam_lexis.re"
	{
                otok->s = strndup(s1, (size_t)(s2-s1));
                return FILTER;
        }
#line 3372 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy246:
	yych = *++lexer->cursor;
	switch (yych) {
		case '=': goto yy248;
		default: goto yy247;
	}
yy247:
	s1 = yyt1;
	s2 = lexer->cursor;
#line 217 "src/opam/opam_lexis.re"
	{
            otok->s = strndup(s1, (size_t)(s2-s1));
            log_debug("mode %d: RELOP %s", lexer->mode, otok->s);
            return RELOP;
        }
#line 3388 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy248:
	++lexer->cursor;
	goto yy247;
yy249:
	++lexer->cursor;
#line 223 "src/opam/opam_lexis.re"
	{ return QMARK; }
#line 3396 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy250:
	yyaccept = 0;
	yych = *(lexer->marker = ++lexer->cursor);
	switch (yych) {
		case '+': goto yy260;
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case '_': goto yy259;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy261;
		default: goto yy235;
	}
yy251:
	yyaccept = 0;
	yych = *(lexer->marker = ++lexer->cursor);
	switch (yych) {
		case '+': goto yy260;
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case '_': goto yy263;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy261;
		default: goto yy235;
	}
yy252:
	++lexer->cursor;
	lexer->mode = yycterm;
#line 302 "src/opam/opam_lexis.re"
	{
                log_debug("<term_filter> rbrace mode %d", lexer->mode);
                return RBRACE; }
#line 3546 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy253:
	yych = *++lexer->cursor;
	switch (yych) {
		case '"': goto yy264;
		default: goto yy253;
	}
yy254:
	yyaccept = 2;
	yych = *(lexer->marker = ++lexer->cursor);
	switch (yych) {
		case '"': goto yy265;
		default: goto yy255;
	}
yy255:
	s1 = yyt1;
	s2 = lexer->cursor;
#line 354 "src/opam/opam_lexis.re"
	{
                otok->s = strndup(s1, (size_t)(s2-s1));
                return STRING;
        }
#line 3568 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy256:
	++lexer->cursor;
#line 389 "src/opam/opam_lexis.re"
	{
            /* return COMMENT; */
            goto loop;          /* skip comments */
        }
#line 3576 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy257:
	yych = *++lexer->cursor;
	switch (yych) {
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case '_': goto yy257;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy259;
		default: goto yy258;
	}
yy258:
	lexer->cursor = lexer->marker;
	switch (yyaccept) {
		case 0: goto yy235;
		case 1: goto yy245;
		case 2: goto yy255;
		default: goto yy262;
	}
yy259:
	yych = *++lexer->cursor;
	switch (yych) {
		case '+': goto yy260;
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case '_': goto yy259;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy261;
		default: goto yy258;
	}
yy260:
	yych = *++lexer->cursor;
	switch (yych) {
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9': goto yy257;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy259;
		case '_': goto yy266;
		default: goto yy258;
	}
yy261:
	yyaccept = 3;
	yych = *(lexer->marker = ++lexer->cursor);
	switch (yych) {
		case '+': goto yy260;
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case '_':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy261;
		default: goto yy262;
	}
yy262:
	s1 = yyt1;
	s2 = lexer->cursor;
#line 350 "src/opam/opam_lexis.re"
	{
                otok->s = strndup(s1, (size_t)(s2-s1));
                return VARIDENT;
        }
#line 3872 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy263:
	yych = *++lexer->cursor;
	switch (yych) {
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case '_': goto yy263;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy261;
		default: goto yy258;
	}
yy264:
	++lexer->cursor;
	goto yy255;
yy265:
	yych = *++lexer->cursor;
	switch (yych) {
		case '"': goto yy267;
		default: goto yy265;
	}
yy266:
	yych = *++lexer->cursor;
	switch (yych) {
		case '+': goto yy260;
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case '_': goto yy263;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy261;
		default: goto yy258;
	}
yy267:
	yych = *++lexer->cursor;
	switch (yych) {
		case '"': goto yy268;
		default: goto yy258;
	}
yy268:
	yych = *++lexer->cursor;
	switch (yych) {
		case '"': goto yy264;
		default: goto yy258;
	}
/* *********************************** */
yyc_termlist_filter:
	yych = *lexer->cursor;
	switch (yych) {
		case 0x00: goto yy270;
		case '\t':
		case '\n':
		case ' ': goto yy273;
		case '!':
			yyt1 = lexer->cursor;
			goto yy275;
		case '"':
			yyt1 = lexer->cursor;
			goto yy277;
		case '#': goto yy278;
		case '&':
		case '|': goto yy279;
		case '-':
			yyt1 = lexer->cursor;
			goto yy280;
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
			yyt1 = lexer->cursor;
			goto yy281;
		case '<':
		case '>':
			yyt1 = lexer->cursor;
			goto yy283;
		case '=':
			yyt1 = lexer->cursor;
			goto yy285;
		case '?': goto yy286;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z':
			yyt1 = lexer->cursor;
			goto yy287;
		case '_':
			yyt1 = lexer->cursor;
			goto yy288;
		case '}': goto yy289;
		default: goto yy271;
	}
yy270:
	++lexer->cursor;
#line 420 "src/opam/opam_lexis.re"
	{
            log_debug("lexing completed");
            return 0;
        }
#line 4140 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy271:
	++lexer->cursor;
yy272:
#line 414 "src/opam/opam_lexis.re"
	{
            fprintf(stderr, "ERROR lexing: %s: %s\n",
                    lexer->filename, lexer->tok);
            exit(-1);
        }
#line 4150 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy273:
	yych = *++lexer->cursor;
	switch (yych) {
		case '\t':
		case '\n':
		case ' ': goto yy273;
		default: goto yy274;
	}
yy274:
#line 387 "src/opam/opam_lexis.re"
	{ goto loop; }
#line 4162 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy275:
	yych = *++lexer->cursor;
	switch (yych) {
		case '=': goto yy285;
		default: goto yy276;
	}
yy276:
#line 222 "src/opam/opam_lexis.re"
	{ return BANG; }
#line 4172 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy277:
	yych = *++lexer->cursor;
	switch (yych) {
		case '"': goto yy291;
		default: goto yy290;
	}
yy278:
	yych = *++lexer->cursor;
	switch (yych) {
		case '\n': goto yy293;
		default: goto yy278;
	}
yy279:
	++lexer->cursor;
	s1 = lexer->cursor - 1;
	s2 = lexer->cursor;
#line 224 "src/opam/opam_lexis.re"
	{
            otok->s = strndup(s1, (size_t)(s2-s1));
            return LOGOP;
        }
#line 4194 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy280:
	yyaccept = 0;
	yych = *(lexer->marker = ++lexer->cursor);
	switch (yych) {
		case '-':
		case '_': goto yy294;
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9': goto yy281;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy296;
		default: goto yy272;
	}
yy281:
	yyaccept = 1;
	yych = *(lexer->marker = ++lexer->cursor);
	switch (yych) {
		case '-':
		case '_': goto yy294;
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9': goto yy281;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy296;
		default: goto yy282;
	}
yy282:
	s1 = yyt1;
	s2 = lexer->cursor;
#line 358 "src/opam/opam_lexis.re"
	{
                otok->s = strndup(s1, (size_t)(s2-s1));
                return FILTER;
        }
#line 4343 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy283:
	yych = *++lexer->cursor;
	switch (yych) {
		case '=': goto yy285;
		default: goto yy284;
	}
yy284:
	s1 = yyt1;
	s2 = lexer->cursor;
#line 217 "src/opam/opam_lexis.re"
	{
            otok->s = strndup(s1, (size_t)(s2-s1));
            log_debug("mode %d: RELOP %s", lexer->mode, otok->s);
            return RELOP;
        }
#line 4359 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy285:
	++lexer->cursor;
	goto yy284;
yy286:
	++lexer->cursor;
#line 223 "src/opam/opam_lexis.re"
	{ return QMARK; }
#line 4367 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy287:
	yyaccept = 0;
	yych = *(lexer->marker = ++lexer->cursor);
	switch (yych) {
		case '+': goto yy297;
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case '_': goto yy296;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy298;
		default: goto yy272;
	}
yy288:
	yyaccept = 0;
	yych = *(lexer->marker = ++lexer->cursor);
	switch (yych) {
		case '+': goto yy297;
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case '_': goto yy300;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy298;
		default: goto yy272;
	}
yy289:
	++lexer->cursor;
	lexer->mode = yycbuildlist;
#line 306 "src/opam/opam_lexis.re"
	{
                log_debug("<termlist_filter> rbrace mode %d", lexer->mode);
                return RBRACE; }
#line 4517 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy290:
	yych = *++lexer->cursor;
	switch (yych) {
		case '"': goto yy301;
		default: goto yy290;
	}
yy291:
	yyaccept = 2;
	yych = *(lexer->marker = ++lexer->cursor);
	switch (yych) {
		case '"': goto yy302;
		default: goto yy292;
	}
yy292:
	s1 = yyt1;
	s2 = lexer->cursor;
#line 354 "src/opam/opam_lexis.re"
	{
                otok->s = strndup(s1, (size_t)(s2-s1));
                return STRING;
        }
#line 4539 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy293:
	++lexer->cursor;
#line 389 "src/opam/opam_lexis.re"
	{
            /* return COMMENT; */
            goto loop;          /* skip comments */
        }
#line 4547 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy294:
	yych = *++lexer->cursor;
	switch (yych) {
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case '_': goto yy294;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy296;
		default: goto yy295;
	}
yy295:
	lexer->cursor = lexer->marker;
	switch (yyaccept) {
		case 0: goto yy272;
		case 1: goto yy282;
		case 2: goto yy292;
		default: goto yy299;
	}
yy296:
	yych = *++lexer->cursor;
	switch (yych) {
		case '+': goto yy297;
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case '_': goto yy296;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy298;
		default: goto yy295;
	}
yy297:
	yych = *++lexer->cursor;
	switch (yych) {
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9': goto yy294;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy296;
		case '_': goto yy303;
		default: goto yy295;
	}
yy298:
	yyaccept = 3;
	yych = *(lexer->marker = ++lexer->cursor);
	switch (yych) {
		case '+': goto yy297;
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case '_':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy298;
		default: goto yy299;
	}
yy299:
	s1 = yyt1;
	s2 = lexer->cursor;
#line 350 "src/opam/opam_lexis.re"
	{
                otok->s = strndup(s1, (size_t)(s2-s1));
                return VARIDENT;
        }
#line 4843 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy300:
	yych = *++lexer->cursor;
	switch (yych) {
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case '_': goto yy300;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy298;
		default: goto yy295;
	}
yy301:
	++lexer->cursor;
	goto yy292;
yy302:
	yych = *++lexer->cursor;
	switch (yych) {
		case '"': goto yy304;
		default: goto yy302;
	}
yy303:
	yych = *++lexer->cursor;
	switch (yych) {
		case '+': goto yy297;
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case '_': goto yy300;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy298;
		default: goto yy295;
	}
yy304:
	yych = *++lexer->cursor;
	switch (yych) {
		case '"': goto yy305;
		default: goto yy295;
	}
yy305:
	yych = *++lexer->cursor;
	switch (yych) {
		case '"': goto yy301;
		default: goto yy295;
	}
/* *********************************** */
yyc_depends:
	yych = *lexer->cursor;
	switch (yych) {
		case 0x00: goto yy307;
		case '\t':
		case '\n':
		case ' ': goto yy309;
		case '!':
			yyt1 = lexer->cursor;
			goto yy311;
		case '#': goto yy313;
		case '&':
		case '|': goto yy314;
		case ':': goto yy315;
		case '<':
		case '>':
			yyt1 = lexer->cursor;
			goto yy316;
		case '=':
			yyt1 = lexer->cursor;
			goto yy318;
		case '?': goto yy319;
		case '[': goto yy320;
		default: goto yy308;
	}
yy307:
	++lexer->cursor;
#line 420 "src/opam/opam_lexis.re"
	{
            log_debug("lexing completed");
            return 0;
        }
#line 5037 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy308:
	++lexer->cursor;
#line 414 "src/opam/opam_lexis.re"
	{
            fprintf(stderr, "ERROR lexing: %s: %s\n",
                    lexer->filename, lexer->tok);
            exit(-1);
        }
#line 5046 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy309:
	yych = *++lexer->cursor;
	switch (yych) {
		case '\t':
		case '\n':
		case ' ': goto yy309;
		default: goto yy310;
	}
yy310:
#line 387 "src/opam/opam_lexis.re"
	{ goto loop; }
#line 5058 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy311:
	yych = *++lexer->cursor;
	switch (yych) {
		case '=': goto yy318;
		default: goto yy312;
	}
yy312:
#line 222 "src/opam/opam_lexis.re"
	{ return BANG; }
#line 5068 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy313:
	yych = *++lexer->cursor;
	switch (yych) {
		case '\n': goto yy321;
		default: goto yy313;
	}
yy314:
	++lexer->cursor;
	s1 = lexer->cursor - 1;
	s2 = lexer->cursor;
#line 224 "src/opam/opam_lexis.re"
	{
            otok->s = strndup(s1, (size_t)(s2-s1));
            return LOGOP;
        }
#line 5084 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy315:
	++lexer->cursor;
#line 320 "src/opam/opam_lexis.re"
	{ return COLON; }
#line 5089 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy316:
	yych = *++lexer->cursor;
	switch (yych) {
		case '=': goto yy318;
		default: goto yy317;
	}
yy317:
	s1 = yyt1;
	s2 = lexer->cursor;
#line 217 "src/opam/opam_lexis.re"
	{
            otok->s = strndup(s1, (size_t)(s2-s1));
            log_debug("mode %d: RELOP %s", lexer->mode, otok->s);
            return RELOP;
        }
#line 5105 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy318:
	++lexer->cursor;
	goto yy317;
yy319:
	++lexer->cursor;
#line 223 "src/opam/opam_lexis.re"
	{ return QMARK; }
#line 5113 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy320:
	++lexer->cursor;
	lexer->mode = yycfpf;
#line 321 "src/opam/opam_lexis.re"
	{ return LBRACKET; }
#line 5119 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy321:
	++lexer->cursor;
#line 389 "src/opam/opam_lexis.re"
	{
            /* return COMMENT; */
            goto loop;          /* skip comments */
        }
#line 5127 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
/* *********************************** */
yyc_fpf:
	yych = *lexer->cursor;
	switch (yych) {
		case 0x00: goto yy323;
		case '\t':
		case '\n':
		case ' ': goto yy326;
		case '!':
			yyt1 = lexer->cursor;
			goto yy328;
		case '"': goto yy330;
		case '#': goto yy331;
		case '&':
		case '|': goto yy332;
		case '(': goto yy333;
		case ')': goto yy334;
		case '<':
		case '>':
			yyt1 = lexer->cursor;
			goto yy335;
		case '=':
			yyt1 = lexer->cursor;
			goto yy337;
		case '?': goto yy338;
		case ']': goto yy339;
		case '{': goto yy340;
		default: goto yy324;
	}
yy323:
	++lexer->cursor;
#line 420 "src/opam/opam_lexis.re"
	{
            log_debug("lexing completed");
            return 0;
        }
#line 5164 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy324:
	++lexer->cursor;
yy325:
#line 414 "src/opam/opam_lexis.re"
	{
            fprintf(stderr, "ERROR lexing: %s: %s\n",
                    lexer->filename, lexer->tok);
            exit(-1);
        }
#line 5174 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy326:
	yych = *++lexer->cursor;
	switch (yych) {
		case '\t':
		case '\n':
		case ' ': goto yy326;
		default: goto yy327;
	}
yy327:
#line 387 "src/opam/opam_lexis.re"
	{ goto loop; }
#line 5186 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy328:
	yych = *++lexer->cursor;
	switch (yych) {
		case '=': goto yy337;
		default: goto yy329;
	}
yy329:
#line 222 "src/opam/opam_lexis.re"
	{ return BANG; }
#line 5196 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy330:
	yych = *(lexer->marker = ++lexer->cursor);
	switch (yych) {
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case '_':
			yyt1 = lexer->cursor;
			goto yy341;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z':
			yyt1 = lexer->cursor;
			goto yy343;
		default: goto yy325;
	}
yy331:
	yych = *++lexer->cursor;
	switch (yych) {
		case '\n': goto yy344;
		default: goto yy331;
	}
yy332:
	++lexer->cursor;
	s1 = lexer->cursor - 1;
	s2 = lexer->cursor;
#line 224 "src/opam/opam_lexis.re"
	{
            otok->s = strndup(s1, (size_t)(s2-s1));
            return LOGOP;
        }
#line 5285 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy333:
	++lexer->cursor;
#line 327 "src/opam/opam_lexis.re"
	{ return LPAREN; }
#line 5290 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy334:
	++lexer->cursor;
	lexer->mode = yycinit;
#line 328 "src/opam/opam_lexis.re"
	{ return RPAREN; }
#line 5296 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy335:
	yych = *++lexer->cursor;
	switch (yych) {
		case '=': goto yy337;
		default: goto yy336;
	}
yy336:
	s1 = yyt1;
	s2 = lexer->cursor;
#line 217 "src/opam/opam_lexis.re"
	{
            otok->s = strndup(s1, (size_t)(s2-s1));
            log_debug("mode %d: RELOP %s", lexer->mode, otok->s);
            return RELOP;
        }
#line 5312 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy337:
	++lexer->cursor;
	goto yy336;
yy338:
	++lexer->cursor;
#line 223 "src/opam/opam_lexis.re"
	{ return QMARK; }
#line 5320 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy339:
	++lexer->cursor;
	lexer->mode = yycinit;
#line 329 "src/opam/opam_lexis.re"
	{ return RBRACKET; }
#line 5326 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy340:
	++lexer->cursor;
	lexer->mode = yycfvf;
#line 330 "src/opam/opam_lexis.re"
	{
            log_debug("mode %d: LBRACE", lexer->mode);
            return LBRACE;
        }
#line 5335 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy341:
	yych = *++lexer->cursor;
	switch (yych) {
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case '_': goto yy341;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy343;
		default: goto yy342;
	}
yy342:
	lexer->cursor = lexer->marker;
	goto yy325;
yy343:
	yych = *++lexer->cursor;
	switch (yych) {
		case '"': goto yy345;
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case '_':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy343;
		default: goto yy342;
	}
yy344:
	++lexer->cursor;
#line 389 "src/opam/opam_lexis.re"
	{
            /* return COMMENT; */
            goto loop;          /* skip comments */
        }
#line 5485 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy345:
	++lexer->cursor;
	s1 = yyt1;
	s2 = lexer->cursor - 1;
#line 323 "src/opam/opam_lexis.re"
	{
                otok->s = strndup(s1, (size_t)(s2-s1));
                return PKGNAME;
        }
#line 5495 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
/* *********************************** */
yyc_fvf:
	yych = *lexer->cursor;
	switch (yych) {
		case 0x00: goto yy347;
		case '\t':
		case '\n':
		case ' ': goto yy350;
		case '!':
			yyt1 = lexer->cursor;
			goto yy352;
		case '"':
			yyt2 = lexer->cursor;
			goto yy354;
		case '#': goto yy355;
		case '&':
		case '|': goto yy356;
		case '(': goto yy357;
		case ')': goto yy358;
		case '-':
			yyt1 = lexer->cursor;
			goto yy359;
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
			yyt1 = lexer->cursor;
			goto yy360;
		case '<':
		case '>':
			yyt1 = lexer->cursor;
			goto yy362;
		case '=':
			yyt1 = lexer->cursor;
			goto yy364;
		case '?': goto yy365;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z':
			yyt1 = lexer->cursor;
			goto yy366;
		case '_':
			yyt1 = lexer->cursor;
			goto yy367;
		case '}': goto yy368;
		default: goto yy348;
	}
yy347:
	++lexer->cursor;
#line 420 "src/opam/opam_lexis.re"
	{
            log_debug("lexing completed");
            return 0;
        }
#line 5605 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy348:
	++lexer->cursor;
yy349:
#line 414 "src/opam/opam_lexis.re"
	{
            fprintf(stderr, "ERROR lexing: %s: %s\n",
                    lexer->filename, lexer->tok);
            exit(-1);
        }
#line 5615 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy350:
	yych = *++lexer->cursor;
	switch (yych) {
		case '\t':
		case '\n':
		case ' ': goto yy350;
		default: goto yy351;
	}
yy351:
#line 387 "src/opam/opam_lexis.re"
	{ goto loop; }
#line 5627 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy352:
	yych = *++lexer->cursor;
	switch (yych) {
		case '=': goto yy364;
		default: goto yy353;
	}
yy353:
#line 222 "src/opam/opam_lexis.re"
	{ return BANG; }
#line 5637 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy354:
	yych = *++lexer->cursor;
	switch (yych) {
		case '"': goto yy370;
		case '+':
		case '-':
		case '.':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case '_':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z':
		case '~':
			yyt1 = lexer->cursor;
			goto yy372;
		default: goto yy369;
	}
yy355:
	yych = *++lexer->cursor;
	switch (yych) {
		case '\n': goto yy373;
		default: goto yy355;
	}
yy356:
	++lexer->cursor;
	s1 = lexer->cursor - 1;
	s2 = lexer->cursor;
#line 340 "src/opam/opam_lexis.re"
	{
            otok->s = strndup(s1, (size_t)(s2-s1));
            return LOGOP;
        }
#line 5728 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy357:
	++lexer->cursor;
#line 337 "src/opam/opam_lexis.re"
	{ return LPAREN; }
#line 5733 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy358:
	++lexer->cursor;
#line 338 "src/opam/opam_lexis.re"
	{ return RPAREN; }
#line 5738 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy359:
	yyaccept = 0;
	yych = *(lexer->marker = ++lexer->cursor);
	switch (yych) {
		case '-':
		case '_': goto yy374;
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9': goto yy360;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy376;
		default: goto yy349;
	}
yy360:
	yyaccept = 1;
	yych = *(lexer->marker = ++lexer->cursor);
	switch (yych) {
		case '-':
		case '_': goto yy374;
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9': goto yy360;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy376;
		default: goto yy361;
	}
yy361:
	s1 = yyt1;
	s2 = lexer->cursor;
#line 358 "src/opam/opam_lexis.re"
	{
                otok->s = strndup(s1, (size_t)(s2-s1));
                return FILTER;
        }
#line 5887 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy362:
	yych = *++lexer->cursor;
	switch (yych) {
		case '=': goto yy364;
		default: goto yy363;
	}
yy363:
	s1 = yyt1;
	s2 = lexer->cursor;
#line 217 "src/opam/opam_lexis.re"
	{
            otok->s = strndup(s1, (size_t)(s2-s1));
            log_debug("mode %d: RELOP %s", lexer->mode, otok->s);
            return RELOP;
        }
#line 5903 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy364:
	++lexer->cursor;
	goto yy363;
yy365:
	++lexer->cursor;
#line 223 "src/opam/opam_lexis.re"
	{ return QMARK; }
#line 5911 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy366:
	yyaccept = 0;
	yych = *(lexer->marker = ++lexer->cursor);
	switch (yych) {
		case '+': goto yy377;
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case '_': goto yy376;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy378;
		default: goto yy349;
	}
yy367:
	yyaccept = 0;
	yych = *(lexer->marker = ++lexer->cursor);
	switch (yych) {
		case '+': goto yy377;
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case '_': goto yy380;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy378;
		default: goto yy349;
	}
yy368:
	++lexer->cursor;
	lexer->mode = yycfpf;
#line 335 "src/opam/opam_lexis.re"
	{ return RBRACE; }
#line 6059 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy369:
	yych = *++lexer->cursor;
	switch (yych) {
		case '"': goto yy381;
		default: goto yy369;
	}
yy370:
	yyaccept = 2;
	yych = *(lexer->marker = ++lexer->cursor);
	switch (yych) {
		case '"': goto yy382;
		default: goto yy371;
	}
yy371:
	s1 = yyt2;
	s2 = lexer->cursor;
#line 354 "src/opam/opam_lexis.re"
	{
                otok->s = strndup(s1, (size_t)(s2-s1));
                return STRING;
        }
#line 6081 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy372:
	yych = *++lexer->cursor;
	switch (yych) {
		case '"': goto yy383;
		case '+':
		case '-':
		case '.':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case '_':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z':
		case '~': goto yy372;
		default: goto yy369;
	}
yy373:
	++lexer->cursor;
#line 389 "src/opam/opam_lexis.re"
	{
            /* return COMMENT; */
            goto loop;          /* skip comments */
        }
#line 6162 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy374:
	yych = *++lexer->cursor;
	switch (yych) {
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case '_': goto yy374;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy376;
		default: goto yy375;
	}
yy375:
	lexer->cursor = lexer->marker;
	switch (yyaccept) {
		case 0: goto yy349;
		case 1: goto yy361;
		case 2: goto yy371;
		default: goto yy379;
	}
yy376:
	yych = *++lexer->cursor;
	switch (yych) {
		case '+': goto yy377;
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case '_': goto yy376;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy378;
		default: goto yy375;
	}
yy377:
	yych = *++lexer->cursor;
	switch (yych) {
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9': goto yy374;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy376;
		case '_': goto yy384;
		default: goto yy375;
	}
yy378:
	yyaccept = 3;
	yych = *(lexer->marker = ++lexer->cursor);
	switch (yych) {
		case '+': goto yy377;
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case '_':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy378;
		default: goto yy379;
	}
yy379:
	s1 = yyt1;
	s2 = lexer->cursor;
#line 350 "src/opam/opam_lexis.re"
	{
                otok->s = strndup(s1, (size_t)(s2-s1));
                return VARIDENT;
        }
#line 6458 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy380:
	yych = *++lexer->cursor;
	switch (yych) {
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case '_': goto yy380;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy378;
		default: goto yy375;
	}
yy381:
	++lexer->cursor;
	goto yy371;
yy382:
	yych = *++lexer->cursor;
	switch (yych) {
		case '"': goto yy385;
		default: goto yy382;
	}
yy383:
	++lexer->cursor;
	s1 = yyt1;
	s2 = lexer->cursor - 1;
#line 345 "src/opam/opam_lexis.re"
	{
                otok->s = strndup(s1, (size_t)(s2-s1));
                return VERSION;
        }
#line 6546 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy384:
	yych = *++lexer->cursor;
	switch (yych) {
		case '+': goto yy377;
		case '-':
		case '0':
		case '1':
		case '2':
		case '3':
		case '4':
		case '5':
		case '6':
		case '7':
		case '8':
		case '9':
		case '_': goto yy380;
		case 'A':
		case 'B':
		case 'C':
		case 'D':
		case 'E':
		case 'F':
		case 'G':
		case 'H':
		case 'I':
		case 'J':
		case 'K':
		case 'L':
		case 'M':
		case 'N':
		case 'O':
		case 'P':
		case 'Q':
		case 'R':
		case 'S':
		case 'T':
		case 'U':
		case 'V':
		case 'W':
		case 'X':
		case 'Y':
		case 'Z':
		case 'a':
		case 'b':
		case 'c':
		case 'd':
		case 'e':
		case 'f':
		case 'g':
		case 'h':
		case 'i':
		case 'j':
		case 'k':
		case 'l':
		case 'm':
		case 'n':
		case 'o':
		case 'p':
		case 'q':
		case 'r':
		case 's':
		case 't':
		case 'u':
		case 'v':
		case 'w':
		case 'x':
		case 'y':
		case 'z': goto yy378;
		default: goto yy375;
	}
yy385:
	yych = *++lexer->cursor;
	switch (yych) {
		case '"': goto yy386;
		default: goto yy375;
	}
yy386:
	yych = *++lexer->cursor;
	switch (yych) {
		case '"': goto yy381;
		default: goto yy375;
	}
/* *********************************** */
yyc_triplequote:
	yych = *lexer->cursor;
	yyt1 = lexer->cursor;
	switch (yych) {
		case '"': goto yy390;
		case '#': goto yy391;
		default: goto yy388;
	}
yy388:
	yych = *++lexer->cursor;
	switch (yych) {
		case '"': goto yy389;
		default: goto yy388;
	}
yy389:
	s1 = yyt1;
	s2 = lexer->cursor;
#line 376 "src/opam/opam_lexis.re"
	{
            otok->s = strndup(s1, (size_t)(s2-s1));
            return STRING3;
        }
#line 6652 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy390:
	yych = *++lexer->cursor;
	switch (yych) {
		case '"': goto yy394;
		default: goto yy393;
	}
yy391:
	yych = *++lexer->cursor;
	switch (yych) {
		case '\n': goto yy388;
		case '"': goto yy397;
		default: goto yy391;
	}
yy392:
	yych = *++lexer->cursor;
yy393:
	switch (yych) {
		case '"': goto yy398;
		case '\\': goto yy396;
		default: goto yy392;
	}
yy394:
	yych = *++lexer->cursor;
	switch (yych) {
		case '"': goto yy399;
		default: goto yy395;
	}
yy395:
	s1 = yyt1;
	s2 = lexer->cursor;
#line 372 "src/opam/opam_lexis.re"
	{
            otok->s = strndup(s1, (size_t)(s2-s1));
            return STRING;
        }
#line 6688 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy396:
	yych = *++lexer->cursor;
	switch (yych) {
		case '\\': goto yy396;
		default: goto yy392;
	}
yy397:
	yych = *++lexer->cursor;
	switch (yych) {
		case '\n': goto yy400;
		default: goto yy397;
	}
yy398:
	++lexer->cursor;
	goto yy395;
yy399:
	++lexer->cursor;
	lexer->mode = yycinit;
#line 371 "src/opam/opam_lexis.re"
	{ return TQ; }
#line 6709 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
yy400:
	++lexer->cursor;
#line 389 "src/opam/opam_lexis.re"
	{
            /* return COMMENT; */
            goto loop;          /* skip comments */
        }
#line 6717 "bazel-out/darwin-fastbuild/bin/src/opam/opam_lexis.c"
}
#line 430 "src/opam/opam_lexis.re"

}
